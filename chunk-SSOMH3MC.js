import{a as j,b as G,c as U,d as z,e as Q,f as H,g as K,k as J,l as X,m as Y,n as Z,o as $,p as ee,q as te}from"./chunk-56TG5EE6.js";import{a as oe,b as ae}from"./chunk-RK23KOMG.js";import{a as se}from"./chunk-N77IRRRE.js";import{b as ie,c as ne,d as re}from"./chunk-EIXRTAYT.js";import{b as k}from"./chunk-XA5C6TME.js";import{l as q}from"./chunk-PWFTLQLJ.js";import{m as L,r as N}from"./chunk-N5F7BLGW.js";import{Db as f,Eb as m,Fb as u,Gb as C,Jb as h,Kb as y,Lb as I,Nb as B,Ra as i,Sa as v,Ub as l,Vb as d,Xb as D,db as g,gb as s,ja as V,kb as r,lb as n,mb as E,nb as A,ob as O,pb as M,sa as x,ta as S,tb as b,ua as P,vb as _,yb as R}from"./chunk-EU2SIFBO.js";function le(e,o){e&1&&(r(0,"div"),m(1),l(2,"translate"),n()),e&2&&(i(),u(d(2,1,"RESETPASSWORD.ERROR.EMAIL_REQUIRED")))}function de(e,o){e&1&&(r(0,"div"),m(1),l(2,"translate"),n()),e&2&&(i(),u(d(2,1,"RESETPASSWORD.ERROR.EMAIL_INVALID")))}function pe(e,o){if(e&1&&(r(0,"div",24),g(1,le,3,3,"div",25)(2,de,3,3,"div",25),n()),e&2){_();let t=f(4);i(),s("ngIf",t.errors==null?null:t.errors.required),i(),s("ngIf",t.errors==null?null:t.errors.email)}}function me(e,o){if(e&1){let t=M();r(0,"form",18,0),b("ngSubmit",function(){x(t);let a=_();return S(a.onSubmitSendCode())}),r(2,"div")(3,"input",19,1),l(5,"translate"),I("ngModelChange",function(a){x(t);let c=_();return y(c.sendCode.email,a)||(c.sendCode.email=a),S(a)}),n(),g(6,pe,3,2,"div",20),n(),r(7,"div")(8,"button",21),m(9),l(10,"translate"),n(),r(11,"div",22)(12,"p"),m(13),l(14,"translate"),r(15,"a",23),m(16),l(17,"translate"),n()()()()()}if(e&2){let t=f(1),p=f(4),a=_();i(3),R("placeholder",d(5,7,"RESETPASSWORD.EMAIL")),h("ngModel",a.sendCode.email),i(3),s("ngIf",p.invalid&&(p.dirty||p.touched)),i(2),s("disabled",!t.valid),i(),C(" ",d(10,9,"RESETPASSWORD.BUTTON")," "),i(4),C(" ",d(14,11,"RESETPASSWORD.BACK_LOGIN")," "),i(3),u(d(17,13,"RESETPASSWORD.CLICK_HERE"))}}function ce(e,o){e&1&&(r(0,"div"),m(1),l(2,"translate"),n()),e&2&&(i(),u(d(2,1,"RESETPASSWORD.ERROR.EMAIL_REQUIRED")))}function _e(e,o){e&1&&(r(0,"div"),m(1),l(2,"translate"),n()),e&2&&(i(),u(d(2,1,"RESETPASSWORD.ERROR.EMAIL_INVALID")))}function ge(e,o){if(e&1&&(r(0,"div",24),g(1,ce,3,3,"div",25)(2,_e,3,3,"div",25),n()),e&2){_();let t=f(5);i(),s("ngIf",t.errors==null?null:t.errors.required),i(),s("ngIf",t.errors==null?null:t.errors.email)}}function fe(e,o){e&1&&(r(0,"div"),m(1),l(2,"translate"),n()),e&2&&(i(),u(d(2,1,"RESETPASSWORD.ERROR.CODE_REQUIRED")))}function ue(e,o){e&1&&(r(0,"div"),m(1),l(2,"translate"),n()),e&2&&(i(),u(d(2,1,"RESETPASSWORD.ERROR.CODE_MUST")))}function xe(e,o){if(e&1&&(r(0,"div",24),g(1,fe,3,3,"div",25)(2,ue,3,3,"div",25),n()),e&2){_();let t=f(10);i(),s("ngIf",t.errors==null?null:t.errors.required),i(),s("ngIf",(t.errors==null?null:t.errors.min)||(t.errors==null?null:t.errors.max))}}function Se(e,o){e&1&&(A(0),P(),r(1,"svg",37),E(2,"path",38)(3,"circle",39),n(),O())}function we(e,o){e&1&&(P(),r(0,"svg",37),E(1,"path",38)(2,"circle",39)(3,"line",40),n())}function ve(e,o){e&1&&(r(0,"div"),m(1),l(2,"translate"),n()),e&2&&(i(),u(d(2,1,"RESETPASSWORD.ERROR.PASSWORD_REQUIRED")))}function Ee(e,o){e&1&&(r(0,"div"),m(1),l(2,"translate"),n()),e&2&&(i(),u(d(2,1,"RESETPASSWORD.ERROR.PASSWORD_MIN_LENGTH")))}function Re(e,o){if(e&1&&(r(0,"div",24),g(1,ve,3,3,"div",25)(2,Ee,3,3,"div",25),n()),e&2){_();let t=f(17);i(),s("ngIf",t.errors==null?null:t.errors.required),i(),s("ngIf",t.errors==null?null:t.errors.minlength)}}function Ce(e,o){e&1&&(A(0),P(),r(1,"svg",37),E(2,"path",38)(3,"circle",39),n(),O())}function he(e,o){e&1&&(P(),r(0,"svg",37),E(1,"path",38)(2,"circle",39)(3,"line",40),n())}function ye(e,o){e&1&&(r(0,"div"),m(1),l(2,"translate"),n()),e&2&&(i(),u(d(2,1,"RESETPASSWORD.ERROR.PASSWORD_REQUIRED")))}function Ie(e,o){e&1&&(r(0,"div"),m(1),l(2,"translate"),n()),e&2&&(i(),u(d(2,1,"RESETPASSWORD.ERROR.PASSWORD_MATCH")))}function Pe(e,o){if(e&1&&(r(0,"div",24),g(1,ye,3,3,"div",25)(2,Ie,3,3,"div",25),n()),e&2){_();let t=f(27);i(),s("ngIf",t.errors==null?null:t.errors.required),i(),s("ngIf",t.errors==null?null:t.errors.pattern)}}function be(e,o){if(e&1){let t=M();r(0,"form",18,2),b("ngSubmit",function(){x(t);let a=_();return S(a.onSubmitResetPassword())}),r(2,"div",26)(3,"div",27)(4,"input",28,1),l(6,"translate"),I("ngModelChange",function(a){x(t);let c=_();return y(c.passwordReset.email,a)||(c.passwordReset.email=a),S(a)}),n(),g(7,ge,3,2,"div",20),n(),r(8,"div",27)(9,"input",29,3),l(11,"translate"),I("ngModelChange",function(a){x(t);let c=_();return y(c.passwordReset.otp,a)||(c.passwordReset.otp=a),S(a)}),n(),g(12,xe,3,2,"div",20),n()(),r(13,"div",30)(14,"div",27)(15,"div",31)(16,"input",32,4),l(18,"translate"),I("ngModelChange",function(a){x(t);let c=_();return y(c.passwordReset.password,a)||(c.passwordReset.password=a),S(a)}),n(),r(19,"button",33),b("click",function(){x(t);let a=_();return S(a.togglePasswordVisibility())}),g(20,Se,4,0,"ng-container",34)(21,we,4,0,"ng-template",null,5,D),n()(),g(23,Re,3,2,"div",20),n(),r(24,"div",27)(25,"div",31)(26,"input",35,6),l(28,"translate"),I("ngModelChange",function(a){x(t);let c=_();return y(c.passwordReset.password_confirmation,a)||(c.passwordReset.password_confirmation=a),S(a)}),n(),r(29,"button",33),b("click",function(){x(t);let a=_();return S(a.togglePasswordConfirmationVisibility())}),g(30,Ce,4,0,"ng-container",34)(31,he,4,0,"ng-template",null,5,D),n()(),g(33,Pe,3,2,"div",20),n()(),r(34,"div")(35,"button",36),m(36),l(37,"translate"),n(),r(38,"div",22)(39,"p"),m(40),l(41,"translate"),r(42,"a",23),m(43),l(44,"translate"),n()()()()()}if(e&2){let t=f(1),p=f(5),a=f(10),c=f(17),T=f(22),F=f(27),w=_();i(4),R("placeholder",d(6,23,"RESETPASSWORD.EMAIL")),h("ngModel",w.passwordReset.email),i(3),s("ngIf",p.invalid&&(p.dirty||p.touched)),i(2),R("placeholder",d(11,25,"RESETPASSWORD.CODE")),h("ngModel",w.passwordReset.otp),i(3),s("ngIf",a.invalid&&(a.dirty||a.touched)),i(4),R("placeholder",d(18,27,"RESETPASSWORD.PASSWORD")),s("type",w.showPassword?"text":"password"),h("ngModel",w.passwordReset.password),i(4),s("ngIf",w.showPassword)("ngIfElse",T),i(3),s("ngIf",c.invalid&&(c.dirty||c.touched)),i(3),R("placeholder",d(28,29,"RESETPASSWORD.CONFIRM_PASSWORD")),s("type",w.showPasswordConfirmation?"text":"password"),h("ngModel",w.passwordReset.password_confirmation),s("pattern",w.passwordReset.password),i(4),s("ngIf",w.showPasswordConfirmation)("ngIfElse",T),i(3),s("ngIf",F.invalid&&(F.dirty||F.touched)),i(2),s("disabled",!t.valid),i(),C(" ",d(37,31,"RESETPASSWORD.BUTTON_RESET_PASSWORD")," "),i(4),C(" ",d(41,33,"RESETPASSWORD.BACK_LOGIN")," "),i(3),u(d(44,35,"RESETPASSWORD.CLICK_HERE"))}}var W=class e{constructor(o,t,p,a,c,T){this.translate=o;this.alertService=t;this.loadingService=p;this.authService=a;this.router=c;this.storageService=T}ngOnInit(){let o=this.storageService.getItem();o&&(console.log(o),this.translate.use(o))}sendCode={email:""};passwordReset={email:"",otp:null,password:"",password_confirmation:""};isCodeSent=!1;showPassword=!1;showPasswordConfirmation=!1;onSubmitSendCode(){this.loadingService.showLoading(),this.authService.passwordSendCode(this.sendCode).subscribe({next:o=>{this.loadingService.hideLoading(),this.alertService.showAlert(o.message,!1),this.isCodeSent=!0,this.passwordReset.email=this.sendCode.email},error:o=>{this.loadingService.hideLoading(),this.alertService.showAlert(o.message,!0)}})}onSubmitResetPassword(){this.loadingService.showLoading(),this.authService.passwordReset(this.passwordReset).subscribe({next:o=>{this.loadingService.hideLoading(),this.alertService.showAlert(o.message,!1),this.router.navigate(["/login"])},error:o=>{this.loadingService.hideLoading(),this.alertService.showAlert(o.message,!0)}})}togglePasswordVisibility(){this.showPassword=!this.showPassword}togglePasswordConfirmationVisibility(){this.showPasswordConfirmation=!this.showPasswordConfirmation}static \u0275fac=function(t){return new(t||e)(v(ie),v(oe),v(ae),v(k),v(q),v(se))};static \u0275cmp=V({type:e,selectors:[["app-forget-password"]],standalone:!0,features:[B],decls:17,vars:8,consts:[["sendCodeForm","ngForm"],["emailInput","ngModel"],["resetPasswordForm","ngForm"],["otpInput","ngModel"],["passwordInput","ngModel"],["hideIcon",""],["passwordConfirmationInput","ngModel"],[1,"absolute","top-0","left-0","bottom-0","leading-5","h-full","w-full","overflow-hidden",2,"background-color","#0D92F4"],[1,"relative","min-h-screen","flex","flex-col-reverse","sm:flex-row","justify-center","bg-transparent","rounded-3xl","shadow-xl","p-6","sm:p-12"],[1,"flex","flex-col","items-center","lg:items-start","justify-center","lg:px-14","sm:max-w-4xl","xl:max-w-md","z-10","sm:order-1","order-2"],[1,"self-center","lg:self-start","flex","flex-col","text-center","lg:text-left","text-gray-300","mt-6","sm:mt-0"],[1,"my-3","font-semibold","text-4xl","lg:text-4xl","sm:text-3xl","text-center",2,"color","#FFFFFF"],[1,"pr-3","text-sm","sm:text-xl","lg:text-xl",2,"color","#FFD628"],[1,"flex","justify-center","items-center","self-center","z-10","sm:order-2","order-1"],[1,"p-8","sm:p-10","bg-white","mx-auto","rounded-2xl","w-full","sm:w-auto","max-w-lg","shadow-lg"],[1,"mb-6"],[1,"font-semibold","text-xl","text-center","text-[#0D92F4]"],["class","space-y-4",3,"ngSubmit",4,"ngIf"],[1,"space-y-4",3,"ngSubmit"],["type","email","id","email","name","email","required","","email","",1,"w-full","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-grey-700","text-sm",3,"ngModelChange","ngModel","placeholder"],["class","error-message text-xs text-red-500 mt-1 ml-1",4,"ngIf"],["type","submit",1,"w-full","bg-[#0D92F4]","hover:bg-blue-500","text-white","py-3","rounded-2xl","text-sm","font-medium","focus:outline-none","focus:ring-2","focus:ring-blue-400","shadow-md","transition","duration-200",3,"disabled"],[1,"create-account","text-center","mt-4","text-sm","text-gray-600"],["href","/login",1,"text-[#0D92F4]","font-medium","hover:underline"],[1,"error-message","text-xs","text-red-500","mt-1","ml-1"],[4,"ngIf"],[1,"flex","flex-row","space-x-4"],[1,"flex-1"],["type","email","id","email","name","email","required","","email","",1,"w-[200px]","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-grey-700","text-sm",3,"ngModelChange","ngModel","placeholder"],["type","number","id","otp","name","otp","required","","min","100000","max","999999",1,"w-[200px]","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-gray-700","text-sm",3,"ngModelChange","ngModel","placeholder"],[1,"flex","space-x-4"],[1,"flex","items-center","relative"],["id","password","name","password","required","","minlength","8","autocomplete","new-password",1,"w-[200px]","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-gray-700","text-sm",3,"ngModelChange","type","ngModel","placeholder"],["type","button",1,"absolute","right-3","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],[4,"ngIf","ngIfElse"],["id","password_confirmation","name","password_confirmation","required","",1,"w-[200px]","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-gray-700","text-sm",3,"ngModelChange","type","ngModel","pattern","placeholder"],["type","submit",1,"w-full","bg-[#0D92F4]","hover:bg-blue-500","text-white","py-3","rounded-2xl","text-sm","font-medium",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["d","M12 4.5C7.305 4.5 3.354 7.823 2.1 12c1.253 4.177 5.205 7.5 9.9 7.5 4.696 0 8.648-3.323 9.9-7.5-1.253-4.177-5.205-7.5-9.9-7.5zm0 11.25c-2.07 0-3.75-1.68-3.75-3.75S9.93 8.25 12 8.25s3.75 1.68 3.75 3.75-1.68 3.75-3.75 3.75z"],["cx","12","cy","12","r","2.25"],["x1","2","y1","2","x2","22","y2","22","stroke","currentColor","stroke-width","1.5"]],template:function(t,p){t&1&&(E(0,"div",7),r(1,"div",8)(2,"div",9)(3,"div",10)(4,"h3",11),m(5),l(6,"translate"),n(),r(7,"h1",12),m(8," FRUIT "),n()()(),r(9,"div",13)(10,"div",14)(11,"div",15)(12,"h3",16),m(13),l(14,"translate"),n()(),g(15,me,18,15,"form",17)(16,be,45,37,"form",17),n()()()),t&2&&(i(5),C(" ",d(6,4,"RESETPASSWORD.GAME")," "),i(8),u(d(14,6,"RESETPASSWORD.TITLE")),i(2),s("ngIf",!p.isCodeSent),i(),s("ngIf",p.isCodeSent))},dependencies:[te,H,j,K,G,U,Y,$,ee,Z,X,J,Q,z,N,L,re,ne],styles:[".error-message[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};export{W as default};
