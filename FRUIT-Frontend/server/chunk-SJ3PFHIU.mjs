import './polyfills.server.mjs';
import{a as se}from"./chunk-TXQQKV2F.mjs";import{a as X,b as Y,c as Z,d as $,e as ee,f as te,h as ie,i as re,j as ne,m as oe,n as ae,q as le}from"./chunk-ERC2CRHF.mjs";import{a as z,b as K}from"./chunk-QZQANR5E.mjs";import{b}from"./chunk-XZVO5RUM.mjs";import{b as Q,c as H,d as J}from"./chunk-G2EMQGJ6.mjs";import{q as j}from"./chunk-UTIOHHII.mjs";import{Ac as k,Bb as R,Cb as w,Db as E,Eb as G,Fb as P,Fc as q,Ma as t,Mb as d,Na as S,Nb as p,Pb as D,Za as g,ab as s,ca as F,eb as n,fb as i,gb as C,hb as B,ib as N,jb as O,la as _,lb as T,ma as x,na as L,nb as h,qb as I,vb as c,wb as m,xb as f,yb as y,zc as W}from"./chunk-RDXAN74U.mjs";import"./chunk-5XUXGTUW.mjs";function pe(e,o){e&1&&(n(0,"div"),m(1),d(2,"translate"),i()),e&2&&(t(),f(p(2,1,"REGISTER.ERROR.NAME_REQUIRED")))}function me(e,o){if(e&1&&(n(0,"div",34),g(1,pe,3,3,"div",35),i()),e&2){h();let r=c(20);t(),s("ngIf",r.errors==null?null:r.errors.required)}}function ge(e,o){e&1&&(n(0,"div"),m(1),d(2,"translate"),i()),e&2&&(t(),f(p(2,1,"REGISTER.ERROR.LAST_NAME_REQUIRED")))}function ce(e,o){if(e&1&&(n(0,"div",34),g(1,ge,3,3,"div",35),i()),e&2){h();let r=c(25);t(),s("ngIf",r.errors==null?null:r.errors.required)}}function ue(e,o){e&1&&(n(0,"div"),m(1),d(2,"translate"),i()),e&2&&(t(),f(p(2,1,"REGISTER.ERROR.EMAIL_REQUIRED")))}function ve(e,o){e&1&&(n(0,"div"),m(1),d(2,"translate"),i()),e&2&&(t(),f(p(2,1,"REGISTER.ERROR.EMAIL_INVALID")))}function fe(e,o){if(e&1&&(n(0,"div",34),g(1,ue,3,3,"div",35)(2,ve,3,3,"div",35),i()),e&2){h();let r=c(31);t(),s("ngIf",r.errors==null?null:r.errors.required),t(),s("ngIf",r.errors==null?null:r.errors.email)}}function _e(e,o){e&1&&(B(0),L(),n(1,"svg",36),C(2,"path",37)(3,"circle",38),i(),N())}function xe(e,o){e&1&&(L(),n(0,"svg",36),C(1,"path",37)(2,"circle",38)(3,"line",39),i())}function Se(e,o){e&1&&(n(0,"div"),m(1),d(2,"translate"),i()),e&2&&(t(),f(p(2,1,"REGISTER.ERROR.PASSWORD_REQUIRED")))}function he(e,o){if(e&1&&(n(0,"div",34),g(1,Se,3,3,"div",35),i()),e&2){h();let r=c(37);t(),s("ngIf",r.errors==null?null:r.errors.required)}}function Re(e,o){if(e&1&&(n(0,"option",40),m(1),i()),e&2){let r=o.$implicit;s("value",r.id),t(),f(r.name)}}function we(e,o){e&1&&(n(0,"div"),m(1),d(2,"translate"),i()),e&2&&(t(),y("",p(2,1,"REGISTER.ERROR.ROL_SELECT"),"."))}function Ee(e,o){if(e&1&&(n(0,"div",34),g(1,we,3,3,"div",35),i()),e&2){h();let r=c(45);t(),s("ngIf",r.errors==null?null:r.errors.required)}}var U=class e{constructor(o,r,l,v,u,a){this.translate=o;this.alertService=r;this.loadingService=l;this.authService=v;this.router=u;this.storageService=a}showPassword=!1;registerUser={name:"",last_name:"",username:"",email:"",birth_date:"",password:"",role:""};roles=[];ngOnInit(){let o=this.storageService.getItem();o&&this.translate.setDefaultLang(o),this.loadingService.showLoading(),this.authService.getRoles().subscribe({next:r=>{this.loadingService.hideLoading(),this.roles=r.data},error:r=>{this.loadingService.hideLoading(),this.alertService.showAlert(r.message,!0)}})}togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){this.loadingService.showLoading(),this.authService.register(this.registerUser,this.storageService.getItem()||"es").subscribe({next:o=>{this.loadingService.hideLoading(),this.alertService.showAlert(o.message,!1),this.router.navigate(["/login"])},error:o=>{this.loadingService.hideLoading(),this.alertService.showAlert(o.message,!0)}})}navigationToPage(o){this.router.navigate([o])}static \u0275fac=function(r){return new(r||e)(S(Q),S(K),S(z),S(b),S(j),S(se))};static \u0275cmp=F({type:e,selectors:[["app-register"]],standalone:!0,features:[G([b]),P],decls:62,vars:45,consts:[["registerForm","ngForm"],["nameInput","ngModel"],["lastNameInput","ngModel"],["emailInput","ngModel"],["passwordInput","ngModel"],["hideIcon",""],["roleSelect","ngModel"],[1,"absolute","top-0","left-0","bottom-0","leading-5","h-full","w-full","overflow-hidden",2,"background-color","#0D92F4"],[1,"relative","min-h-screen","flex","flex-col-reverse","sm:flex-row","justify-center","bg-transparent","rounded-3xl","shadow-xl","p-6","sm:p-12"],[1,"flex","flex-col","items-center","lg:items-start","justify-center","lg:px-14","sm:max-w-4xl","xl:max-w-md","z-10","sm:order-1","order-2"],[1,"self-center","lg:self-start","flex","flex-col","text-center","lg:text-left","text-gray-300","mt-6","sm:mt-0"],[1,"my-3","font-semibold","text-4xl","lg:text-4xl","sm:text-3xl","text-center",2,"color","#FFFFFF"],[1,"pr-3","text-sm","sm:text-xl","lg:text-xl",2,"color","#FFD628"],[1,"flex","justify-center","items-center","self-center","z-10","sm:order-2","order-1"],[1,"p-8","sm:p-10","bg-white","mx-auto","rounded-2xl","w-full","sm:w-auto","max-w-lg","shadow-lg"],[1,"mb-6"],[1,"font-semibold","text-xl","text-center","text-[#0D92F4]"],[1,"space-y-4",3,"ngSubmit"],[1,"flex","space-x-4"],[1,"flex-1"],["type","text","id","name","name","name","required","",1,"w-full","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-grey-700","text-sm",3,"ngModelChange","ngModel","placeholder"],["class","error-message text-xs text-red-500 mt-1 ml-1",4,"ngIf"],["type","text","id","last_name","name","last_name","required","",1,"w-full","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-grey-700","text-sm",3,"ngModelChange","ngModel","placeholder"],["type","email","id","email","name","email","required","","email","","autocomplete","new-email",1,"w-full","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-grey-700","text-sm",3,"ngModelChange","ngModel","placeholder"],[1,"flex","items-center","relative"],["id","password","name","password","required","","autocomplete","new-password",1,"w-full","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-grey-700","text-sm",3,"ngModelChange","type","ngModel","placeholder"],["type","button",1,"absolute","right-3","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],[4,"ngIf","ngIfElse"],["id","roles","name","roles","required","",1,"w-full","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-grey-700","text-sm",3,"ngModelChange","ngModel"],["value","","disabled","","selected","",1,"text-gray-500"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"w-full","bg-[#0D92F4]","hover:bg-blue-500","text-white","py-3","rounded-2xl","text-sm","font-medium","focus:outline-none","focus:ring-2","focus:ring-blue-400","shadow-md","transition","duration-200",3,"disabled"],[1,"login-redirect","text-center","mt-4","text-sm","text-gray-600"],[1,"text-[#0D92F4]","font-medium","hover:underline",3,"click"],[1,"error-message","text-xs","text-red-500","mt-1","ml-1"],[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["d","M12 4.5C7.305 4.5 3.354 7.823 2.1 12c1.253 4.177 5.205 7.5 9.9 7.5 4.696 0 8.648-3.323 9.9-7.5-1.253-4.177-5.205-7.5-9.9-7.5zm0 11.25c-2.07 0-3.75-1.68-3.75-3.75S9.93 8.25 12 8.25s3.75 1.68 3.75 3.75-1.68 3.75-3.75 3.75z"],["cx","12","cy","12","r","2.25"],["x1","2","y1","2","x2","22","y2","22","stroke","currentColor","stroke-width","1.5"],[3,"value"]],template:function(r,l){if(r&1){let v=O();C(0,"div",7),n(1,"div",8)(2,"div",9)(3,"div",10)(4,"h3",11),m(5),d(6,"translate"),i(),n(7,"h1",12),m(8," FRUIT "),i()()(),n(9,"div",13)(10,"div",14)(11,"div",15)(12,"h3",16),m(13),d(14,"translate"),i()(),n(15,"form",17,0),T("ngSubmit",function(){return _(v),x(l.onSubmit())}),n(17,"div",18)(18,"div",19)(19,"input",20,1),d(21,"translate"),E("ngModelChange",function(a){return _(v),w(l.registerUser.name,a)||(l.registerUser.name=a),x(a)}),i(),g(22,me,2,1,"div",21),i(),n(23,"div",19)(24,"input",22,2),d(26,"translate"),E("ngModelChange",function(a){return _(v),w(l.registerUser.last_name,a)||(l.registerUser.last_name=a),x(a)}),i(),g(27,ce,2,1,"div",21),i()(),n(28,"div",18)(29,"div",19)(30,"input",23,3),d(32,"translate"),E("ngModelChange",function(a){return _(v),w(l.registerUser.email,a)||(l.registerUser.email=a),x(a)}),i(),g(33,fe,3,2,"div",21),i(),n(34,"div",19)(35,"div",24)(36,"input",25,4),d(38,"translate"),E("ngModelChange",function(a){return _(v),w(l.registerUser.password,a)||(l.registerUser.password=a),x(a)}),i(),n(39,"button",26),T("click",function(){return _(v),x(l.togglePasswordVisibility())}),g(40,_e,4,0,"ng-container",27)(41,xe,4,0,"ng-template",null,5,D),i()(),g(43,he,2,1,"div",21),i()(),n(44,"select",28,6),E("ngModelChange",function(a){return _(v),w(l.registerUser.role,a)||(l.registerUser.role=a),x(a)}),n(46,"option",29),m(47),d(48,"translate"),i(),g(49,Re,2,2,"option",30),i(),g(50,Ee,2,1,"div",21),n(51,"div")(52,"button",31),m(53),d(54,"translate"),i(),n(55,"div",32)(56,"p"),m(57),d(58,"translate"),n(59,"a",33),T("click",function(){return _(v),x(l.navigationToPage("/login"))}),m(60),d(61,"translate"),i()()()()()()()()}if(r&2){let v=c(16),u=c(20),a=c(25),M=c(31),V=c(37),de=c(42),A=c(45);t(5),y(" ",p(6,25,"REGISTER.GAME")," "),t(8),f(p(14,27,"REGISTER.TITLE")),t(6),I("placeholder",p(21,29,"REGISTER.NAMES")),R("ngModel",l.registerUser.name),t(3),s("ngIf",u.invalid&&(u.dirty||u.touched)),t(2),I("placeholder",p(26,31,"REGISTER.LAST_NAME")),R("ngModel",l.registerUser.last_name),t(3),s("ngIf",a.invalid&&(a.dirty||a.touched)),t(3),I("placeholder",p(32,33,"REGISTER.EMAIL")),R("ngModel",l.registerUser.email),t(3),s("ngIf",M.invalid&&(M.dirty||M.touched)),t(3),I("placeholder",p(38,35,"REGISTER.PASSWORD")),s("type",l.showPassword?"text":"password"),R("ngModel",l.registerUser.password),t(4),s("ngIf",l.showPassword)("ngIfElse",de),t(3),s("ngIf",V.invalid&&(V.dirty||V.touched)),t(),R("ngModel",l.registerUser.role),t(3),f(p(48,37,"REGISTER.ROL")),t(2),s("ngForOf",l.roles),t(),s("ngIf",A.invalid&&(A.dirty||A.touched)),t(2),s("disabled",!v.valid),t(),y(" ",p(54,39,"REGISTER.BUTTTON")," "),t(4),y(" ",p(58,41,"REGISTER.HAVE_ACCOUNT")," "),t(3),f(p(61,43,"REGISTER.LOGIN"))}},dependencies:[le,te,re,ne,X,ie,Y,Z,oe,ae,ee,$,q,W,k,J,H],styles:["button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}"]})};export{U as default};
