import{a as o,b as Q}from"./chunk-WGNQCG77.js";import{a as m,b as l}from"./chunk-24SHYF34.js";import{G as a,X as p,_ as c,da as n,l as s,r as u}from"./chunk-NJXLY5TY.js";var h=class r{constructor(t,e){this.http=t;this.authService=e}apiUrlQuestions=o.apiUrl+"questions/questionInfoBycode";apiUrlResultsQuestions=o.apiUrl+"quiz/quiz";currentQuestionIndex=0;timePerStep=30;againQuestionSource=new s;againQuestion$=this.againQuestionSource.asObservable();againQuestions(t){t&&this.againQuestionSource.next(t)}getResultsQuestions(t){let e=this.authService.getUserData(),f=new m({Authorization:`Bearer ${e?.access_token}`});return this.http.post(this.apiUrlResultsQuestions,t,{headers:f}).pipe(p(i=>i),a(i=>u(()=>new Error(i.error.message||"Ocurrio un error intentalo mas tarde"))))}getCurrentQuestion(t){return this.currentQuestionIndex<t.length?t[this.currentQuestionIndex]:null}nextQuestion(t){return this.currentQuestionIndex++,this.getCurrentQuestion(t)}resetGame(){this.currentQuestionIndex=0}calculateScore(t){return Math.max(0,t)}static \u0275fac=function(e){return new(e||r)(n(l),n(Q))};static \u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"})};export{h as a};
